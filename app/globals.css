@tailwind base;
@tailwind components;
@tailwind utilities;

/* Evita smart-zoom / autosize no iOS */
html { -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }

/* üîí impede que algo maior que 100vw crie zoom/scroll lateral */
html, body { width: 100%; max-width: 100%; overflow-x: hidden; }

/* Box sizing consistente (evita 1px ‚Äúa mais‚Äù nas bordas) */
*, *::before, *::after { box-sizing: border-box; }

/* Imagens e media nunca ultrapassam o content box */
img, video, canvas, svg { max-width: 100%; height: auto; }

/* === Vari√°veis base === */
:root {
  color-scheme: light;
  --buns-accent: #FFD400; /* amarelo BUNS */
  --buns-bg: #0c0c0c;     /* noite por defeito */
}

/* === Modos (Dia/Noite) === */
.mode-day  { --buns-bg: #0f130d; }
.mode-night { --buns-bg: #0c0c0c; }

/* === Temas extra === */
.theme-surf     { --buns-accent: #1F8A85; }
.theme-graffiti { --buns-accent: #FF7A00; }

/* === Base === */
body {
  @apply text-white font-body;
  background-color: var(--buns-bg);
  background-image:
    radial-gradient(circle at 22% 18%, rgba(255,212,0,0.07) 0 42%, transparent 43%),
    radial-gradient(circle at 78% 8%, rgba(31,138,133,0.07) 0 38%, transparent 39%),
    linear-gradient(180deg, rgba(0,0,0,0.3), rgba(0,0,0,0.35));
  transition: background-color .25s ease;
}

.btn { @apply inline-flex items-center justify-center rounded-2xl px-4 py-3 font-semibold shadow-buns transition active:translate-y-[1px]; }
.btn-primary { background: var(--buns-accent); color: #000; box-shadow: 0 0 15px rgba(255,212,0,.35); }
.btn-primary:hover { filter: brightness(0.95); }
.btn-ghost { @apply bg-white/5 hover:bg-white/10; }
.btn-outline { @apply border border-white/15 bg-black/30 hover:bg-black/40 rounded-2xl px-4 py-2; }
.card { @apply rounded-3xl bg-white/5 backdrop-blur-sm border border-white/10 shadow-buns; }

/* === HERO === */
.hero { @apply rounded-[28px] overflow-hidden relative border border-white/10; min-height: 320px; }
.mode-day .hero::before,
.mode-night .hero::before {
  content: '';
  @apply absolute inset-0;
  background-size: cover;
  background-position: center;
  transition: opacity .3s ease;
}
.mode-day .hero::before {
  background:
    linear-gradient(to bottom, rgba(0,0,0,0.15), rgba(0,0,0,0.45)),
    url('/hero-day.jpg');
}
.mode-night .hero::before {
  background:
    linear-gradient(to bottom, rgba(0,0,0,0.25), rgba(0,0,0,0.6)),
    url('/hero-night.jpg');
}
.mode-day .hero.no-img::before {
  background:
    radial-gradient(circle at 60% 0%, rgba(255,212,0,.12), transparent 40%),
    radial-gradient(circle at 0% 100%, rgba(31,138,133,.12), transparent 34%);
}
.mode-night .hero.no-img::before {
  background:
    radial-gradient(circle at 60% 0%, rgba(255,212,0,.08), transparent 40%),
    radial-gradient(circle at 0% 100%, rgba(255,122,0,.08), transparent 34%);
}
.hero > .hero-content { @apply relative z-10 p-6 sm:p-8; }

/* === Localiza√ß√µes === */
.location-card { @apply card p-6 hover:bg-white/10 transition; }
.location-chip { @apply inline-block text-xs uppercase tracking-wide bg-white/10 px-3 py-1 rounded-full text-white/75; }

/* === Transi√ß√µes === */
body, .mode-day .hero::before, .mode-night .hero::before {
  transition: background-color .5s ease, background-image .5s ease, opacity .5s ease;
}

/* === Mini-mapa === */
.map-thumb { position: relative; overflow: hidden; border-radius: 1.5rem; border: 1px solid rgba(255,255,255,.08); }
.map-thumb iframe { width: 100%; height: 180px; border: 0; filter: saturate(0.9) contrast(1.05) brightness(0.9); border-radius: inherit; }

/* === Pin hover === */
.location-card .pin { transition: transform .2s ease, color .2s ease; }
.location-card:hover .pin { color: var(--buns-accent); animation: pinPulse 1.2s infinite ease-in-out; }
@keyframes pinPulse { 0%,100%{transform:scale(1);} 50%{transform:scale(1.15);} }

/* Utilidades */
@layer utilities {
  .safe-bottom { padding-bottom: env(safe-area-inset-bottom); }
  .no-scrollbar::-webkit-scrollbar { display: none; }
  .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

  /* scroll horizontal suave no iOS */
  .x-scroll { -webkit-overflow-scrolling: touch; touch-action: pan-x; }
}

/* Mobile */
@media (max-width: 640px) {
  h1, h2, h3 { line-height: 1.25; }
  p { font-size: 1rem; line-height: 1.5; }
  .btn { @apply text-base py-3 px-4; }
  .card { @apply p-4; }
}
